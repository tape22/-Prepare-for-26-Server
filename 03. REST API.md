
# <div align="center"> 🔥Prepare-for-26-Server🔥 </center></div>
#### <div align="center">[2020.02.10] REST API와 Node.js </center></div>
<div align="center" style="display:flex;">
	<img width="1791" alt="스크린샷 2020-02-17 오후 10 30 47" src="https://user-images.githubusercontent.com/35520314/75624134-fc398f80-5bf4-11ea-94b5-82b22211106e.png" width="16%"/>
</div>

<br>

# 01. REST API
> 📌 REST API : Representational State Transfer<br>
		웹의 장점을 활용할 수 있는 네트워크 기반의 아키텍처인 REST 


1. 자원(resource): URL <br>
2. 2.행위(verb): HTTP METHOD<br>
3. 3.표현(representation)


## 1-1. URI와 URL

URI : Uniform Resource Identifier로, 요청 url을 의미
URL : Uniform Resource Locator로, 자원을 의미 

<img width="581" alt="스크린샷 2021-08-04 오전 11 22 55" src="https://user-images.githubusercontent.com/35520314/128111776-10a59125-5daa-4875-9544-7dfe02a2e92a.png">

<br>

그래서 RESTful하게 설계하려면 다음과 같은 형식을 지켜주자!
<img width="1655" alt="스크린샷 2021-08-04 오전 11 24 09" src="https://user-images.githubusercontent.com/35520314/128111880-8d3dc9d2-2eae-4bde-9384-50a6d7be701f.png">


## 1-2. CRUD 와 METHOD

CRUD는 create, read, update, delete로 기본 데이터 처리 기능을 의미한다. 각각의 기능을 담당하는 POST, GET, PUT, DELETE 를 메소드라고 부른다.
여기서 수정할 때 PUT과 PATCH가 있는데, PUT은 전체를 수정하는 것이고 PATCH는 일부만 수정해서 업데이트 할 때 사용한다.

<br>
<img width="535" alt="스크린샷 2021-08-04 오전 11 26 45" src="https://user-images.githubusercontent.com/35520314/128112082-d5893e1e-21a4-4e73-b10a-086230bbc261.png">

<br>

# 02. 그래서 node.js는 무엇?

javascript는 사용되는 언어이고, node.js는 자바스크립트를 실행할 수 있는 런타임 환경이지 엄밀히 말하면 프레임워크는 아니다.<br>
node.js에서 사용하는 express가 프레임워크라고 볼 수 있다.

<img width="1792" alt="스크린샷 2020-03-02 오후 11 02 16" src="https://user-images.githubusercontent.com/35520314/75683108-e6ea6100-5cd9-11ea-9a40-2ba7cd3f17b5.png">

그래서 결론적으론, Node.js는 비동기 이벤트 기반의 자바스크립트 런타임으로써, 단일 쓰레드 이벤트 루프를 통해 높은 처리 성능을 가지고 있는 놈이다.


## 2-1. 동기 / 비동기

그럼 node.js는 비동기를 쓴다고 했는데, 동기는 무엇이고 비동기는 무엇일까? <br>
간단하게 설명하면, 동기는 순차적으로 진행되는 것이고 비동기는 병렬적으로 진행되는 것이다. <br>
예를 들어 카페에서 커피를 주문했을 때 동기는 "먼저 주문한 손님에게 커피를 주고 난 다음에서야 새로운 주문을 받는 것" 이다.<br>
이에 비해 비동기는 "커피를 주문하고 진동벨이 울리면 가서 받는 것"으로 비교할 수 있다.
<br>

<img width="535" alt="스크린샷 2021-08-04 오전 11 34 43" src="https://user-images.githubusercontent.com/35520314/128112728-76866ab8-89fe-42b1-aa80-cd3ba6b3bd33.png">
<img width="609" alt="스크린샷 2021-08-04 오전 11 34 54" src="https://user-images.githubusercontent.com/35520314/128112744-cfbbcffb-eef8-4fa4-b213-2e715226c611.png">

<br>

예시 코드를 보자. 다음과 같은 코드가 있을 때, 어떤 순서대로 출력될까?
<br>
<img width="256" alt="스크린샷 2021-08-04 오전 11 36 10" src="https://user-images.githubusercontent.com/35520314/128112845-e8032179-0018-4ba7-80a5-0fd7e51ffa00.png">

정답은 func 1, 3, 2 순서대로 출력된다. <br>
왜냐하면 func1에서 func2를 호출했는데, func2는 메시지를 출력하는데 시간이 걸리고 func3을 호출하기 때문에, <br>
비동기적으로 처리되어 func2의 setTimeout이 일을 수행하는동안 func3이 호출되는 것이다.

<img width="355" alt="스크린샷 2021-08-04 오전 11 38 18" src="https://user-images.githubusercontent.com/35520314/128113058-f1bf7b5d-e0d2-4d5c-9881-806d9f5c5688.png">






## 2-2. 이벤트 기반과 Callback

이벤트 기반으로 일을 처리한다,의 의미는 곧 이벤트가 발생하기 전에 미리 특정 작업을 정해놓고, 발생하게 되는 시점에서 그 작업을 수행하는 것이다.
그래서 이벤트가 발생할 때마다 콜백 함수를 실행하게 되고, 루프는 여러 개의 콜백에서 순서를 판단하여 요청을 처리한다.

<img width="1656" alt="스크린샷 2021-08-04 오전 11 39 49" src="https://user-images.githubusercontent.com/35520314/128113243-43c5f82c-ca3d-4ba2-9f65-9a7d6f16dc09.png">
<br>

이 때 아까 node.js를 소개한 문장이 스쳐지니간다.<br>
"단일 쓰레드 이벤트 루프를 통해..." 그럼 단일쓰레드는 무엇이지? 라는 궁금증이 들기 마련이다.<br><br>


단일 쓰레드는 "한 번에 하나의 작업을 수행"하는 것이다. 하지만 그냥 본다면 여러 코드가 동시에 돌아가는 것처럼 보인다. <br>
이를 이제 동시성의 개념을 공부하면 이해할 수 있는데, 작은 단위로 업무를 쪼개어 흐름을 돌아가면서 동시에 일어나는 것처럼 진행하는 것을 말한다. <br>

즉, 단일 쓰레드인 node.js가 일을 동시에 처리하는 것처럼 보이는 것은 이벤트 루프 덕분이다.
<br>

<img width="613" alt="스크린샷 2021-08-04 오전 11 40 57" src="https://user-images.githubusercontent.com/35520314/128113342-fae47276-0326-4646-babf-5acb06e9b89c.png">


## 2-3. js Runtime을 정리해보자



https://user-images.githubusercontent.com/35520314/128115299-bc6b240e-817f-425c-83a0-3df2cf33e950.mov





